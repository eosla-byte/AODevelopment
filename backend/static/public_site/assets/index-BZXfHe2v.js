(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&a(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function a(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelector("[data-cursor-dot]"),o=document.querySelector("[data-cursor-outline]");window.addEventListener("mousemove",function(c){const m=c.clientX,i=c.clientY;n.style.left=`${m}px`,n.style.top=`${i}px`,o.animate({left:`${m}px`,top:`${i}px`},{duration:500,fill:"forwards"})});const s=document.querySelector(".hero-video"),a=["/Cinematic_BIM_Kitchen_Deconstruction_Animation.mp4","/Architectural_Film_Generation_Request.mp4","/Architectural_Video_Generation_Request.mp4"];let e=0;s&&s.addEventListener("ended",()=>{e=(e+1)%a.length,s.src=a[e],s.play()});const t=document.getElementById("video-reveal-section"),r=document.querySelector(".mask-overlay"),l=document.querySelector(".solid-logo-overlay");t&&r&&l&&window.addEventListener("scroll",()=>{const c=t.offsetTop,m=t.offsetHeight,i=window.scrollY,v=window.innerHeight,u=c,b=c+m-v;let f=(i-u)/(b-u);f=Math.max(0,Math.min(1,f));const p=f*100;r.style.clipPath=`inset(0 0 ${p}% 0)`,r.style.webkitClipPath=`inset(0 0 ${p}% 0)`,r.style.opacity=1;let w=(f-.5)*2;l.style.opacity=Math.max(0,Math.min(1,w))});const d={root:null,rootMargin:"0px",threshold:.1},y=new IntersectionObserver((c,m)=>{c.forEach(i=>{i.isIntersecting&&(i.target.classList.add("visible"),m.unobserve(i.target))})},d);document.querySelectorAll(".fade-on-scroll").forEach(c=>{y.observe(c)});const g=document.getElementById("vision-scroll-section"),h=document.getElementById("reveal-text");if(g&&h){const c=h.innerText;h.innerHTML="",c.split(" ").forEach(v=>{const u=document.createElement("span");u.textContent=v,u.classList.add("reveal-word"),h.appendChild(u)}),document.querySelectorAll(".reveal-word");const i=new IntersectionObserver(v=>{v.forEach(u=>{if(u.isIntersecting){document.querySelectorAll(".reveal-word").forEach((w,L)=>{setTimeout(()=>w.classList.add("active"),L*50)});const f=document.getElementById("reveal-signature");f&&f.classList.add("active");const p=document.getElementById("stats-counter");if(p&&!p.classList.contains("animated")){p.classList.add("active"),p.classList.add("animated");const w=window.aoStats?.projects||50,L=window.aoStats?.sqm||1500351;E("stat-projects",0,w,2e3,"+"),E("stat-countries",0,2,1e3,""),E("stat-sqm",0,L,2500,"+")}i.unobserve(u.target)}})},{threshold:.3});g&&i.observe(g)}const M=document.getElementById("main-header");window.addEventListener("scroll",()=>{window.scrollY>50?M.classList.add("force-collapse"):M.classList.remove("force-collapse")})});function E(n,o,s,a,e=""){const t=document.getElementById(n);if(!t)return;let r=null;const l=d=>{r||(r=d);const y=Math.min((d-r)/a,1),g=Math.floor(y*(s-o)+o).toLocaleString();if(t.innerHTML=e+g,y<1)window.requestAnimationFrame(l);else{const h=s.toLocaleString();t.innerHTML=e+h}};window.requestAnimationFrame(l)}document.addEventListener("DOMContentLoaded",()=>{const n=document.querySelectorAll(".carousel-track .hero-video");n.length>0&&(n[0].play(),n.forEach((o,s)=>{o.addEventListener("ended",()=>{const a=(s+1)%n.length,e=n[a];n[s].classList.remove("active"),e.classList.add("active"),e.load();const t=e.play();t!==void 0&&t.catch(l=>{console.error("Auto-play was prevented:",l),e.load(),e.play().catch(d=>console.error("Retry failed:",d))});const r=document.querySelector(".main-title");r&&e.dataset.text&&(r.style.opacity=0,setTimeout(()=>{r.innerText=e.dataset.text,r.style.opacity=1},500))})}))});document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("sparkle-bg");if(n){for(let o=0;o<30;o++){const s=Math.random()*window.innerWidth,a=Math.random()*window.innerHeight;S(s,a,n,!1)}window.addEventListener("mousemove",o=>{if(Math.random()>.85){const s=n.getBoundingClientRect();o.clientY>=s.top&&o.clientY<=s.bottom&&S(o.clientX,o.clientY-s.top,n,!0)}})}});function S(n,o,s,a){const e=document.createElement("div"),t=Math.random()*3+1;e.style.position="absolute",e.style.left=n+"px",e.style.top=o+"px",e.style.width=t+"px",e.style.height=t+"px",e.style.background="white",e.style.borderRadius="50%",e.style.pointerEvents="none",e.style.opacity=Math.random(),e.style.boxShadow=`0 0 ${t*2}px white`,a?(e.style.transition="opacity 1s ease-out, transform 1s ease-out",setTimeout(()=>{e.style.opacity="0",e.style.transform=`translate(${Math.random()*20-10}px, ${Math.random()*20-10}px)`},50),setTimeout(()=>e.remove(),1e3)):e.style.animation=`twinkle ${Math.random()*3+2}s infinite alternate`,s.appendChild(e)}const x=document.createElement("style");x.innerHTML=`
  @keyframes twinkle {
    0% { opacity: 0.2; transform: scale(1); }
    100% { opacity: 1; transform: scale(1.2); }
  }
`;document.head.appendChild(x);document.addEventListener("DOMContentLoaded",()=>{T()});async function T(){console.log("Fetching stats from backend...");try{const n=await fetch("http://localhost:8000/api/projects/stats",{method:"GET",headers:{Accept:"application/json"}});if(!n.ok){console.error("Failed to fetch stats:",n.statusText);return}const o=await n.json();console.log("Stats received:",o);const s=o.categories;if(o.global){window.aoStats={projects:o.global.total_projects,sqm:o.global.total_sqm};const t=document.getElementById("stat-projects"),r=document.getElementById("stat-sqm");t&&t.innerHTML.includes("+")&&(t.innerHTML="+"+o.global.total_projects.toLocaleString(),r.innerHTML="+"+o.global.total_sqm.toLocaleString())}const a=document.getElementById("project-categories"),e=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(O(s),e.unobserve(r.target))})},{threshold:.2});a&&e.observe(a)}catch(n){console.error("Error fetching stats:",n)}}function O(n){if(n)for(const[o,s]of Object.entries(n)){const a=document.querySelectorAll(`.cat-stat-sqm[data-cat="${o}"]`),e=document.querySelectorAll(`.cat-stat-count[data-cat="${o}"]`);a.forEach(t=>{q(t,0,s.sqm,2e3,"")}),e.forEach(t=>{q(t,0,s.count,1500,"")})}}function q(n,o,s,a,e=""){if(!n)return;let t=null;const r=l=>{t||(t=l);const d=Math.min((l-t)/a,1),y=Math.floor(d*(s-o)+o);n.innerHTML=e+y.toLocaleString(),d<1?window.requestAnimationFrame(r):n.innerHTML=e+s.toLocaleString()};window.requestAnimationFrame(r)}
